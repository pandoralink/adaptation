import{r as i,R as a,j as n,u as ie,a as se}from"./index-CnuiFtNf.js";import{c as L,w as I,a as X,m as z,u as le,S as ae,b as ce,C as de,M as ue,A as me,r as fe,d as J,e as M,I as T,D as K,f as q,g as H,h as pe,E as Ce,l as ge,i as ye,j as D,T as G,B as Q,k as he,N as Y,n as xe,R as Le}from"./hooks-CQinRcph.js";function Z(e){return i.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e,{style:Object.assign({verticalAlign:"-0.125em"},e.style),className:["antd-mobile-icon",e.className].filter(Boolean).join(" ")}),i.createElement("g",{id:"AddCircleOutline-AddCircleOutline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},i.createElement("g",{id:"AddCircleOutline-编组"},i.createElement("rect",{id:"AddCircleOutline-矩形",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),i.createElement("path",{d:"M24,2 C36.1502645,2 46,11.8497355 46,24 C46,36.1502645 36.1502645,46 24,46 C11.8497355,46 2,36.1502645 2,24 C2,11.8497355 11.8497355,2 24,2 Z M24,5 C13.5065898,5 5,13.5065898 5,24 C5,34.4934102 13.5065898,43 24,43 C34.4934102,43 43,34.4934102 43,24 C43,13.5065898 34.4934102,5 24,5 Z M25.5,14.9 L25.5,22.5 L25.5,22.5 L33.1,22.5 C33.3209139,22.5 33.5,22.6790861 33.5,22.9 L33.5,25.1 C33.5,25.3209139 33.3209139,25.5 33.1,25.5 L25.5,25.5 L25.5,25.5 L25.5,33.1 C25.5,33.3209139 25.3209139,33.5 25.1,33.5 L22.9,33.5 C22.6790861,33.5 22.5,33.3209139 22.5,33.1 L22.5,25.5 L22.5,25.5 L14.9,25.5 C14.6790861,25.5 14.5,25.3209139 14.5,25.1 L14.5,22.9 C14.5,22.6790861 14.6790861,22.5 14.9,22.5 L22.5,22.5 L22.5,22.5 L22.5,14.9 C22.5,14.6790861 22.6790861,14.5 22.9,14.5 L25.1,14.5 C25.3209139,14.5 25.5,14.6790861 25.5,14.9 Z",id:"AddCircleOutline-形状",fill:"currentColor",fillRule:"nonzero"}))))}function we(e){return i.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e,{style:Object.assign({verticalAlign:"-0.125em"},e.style),className:["antd-mobile-icon",e.className].filter(Boolean).join(" ")}),i.createElement("g",{id:"CheckOutline-CheckOutline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},i.createElement("g",{id:"CheckOutline-编组"},i.createElement("rect",{id:"CheckOutline-矩形",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),i.createElement("path",{d:"M44.309608,12.6841286 L21.2180499,35.5661955 L21.2180499,35.5661955 C20.6343343,36.1446015 19.6879443,36.1446015 19.1042286,35.5661955 C19.0538201,35.5162456 19.0077648,35.4636155 18.9660627,35.4087682 C18.9113105,35.368106 18.8584669,35.3226694 18.808302,35.2729607 L3.6903839,20.2920499 C3.53346476,20.1365529 3.53231192,19.8832895 3.68780898,19.7263704 C3.7629255,19.6505669 3.86521855,19.6079227 3.97193622,19.6079227 L7.06238923,19.6079227 C7.16784214,19.6079227 7.26902895,19.6495648 7.34393561,19.7237896 L20.160443,32.4236157 L20.160443,32.4236157 L40.656066,12.115858 C40.7309719,12.0416387 40.8321549,12 40.9376034,12 L44.0280571,12 C44.248971,12 44.4280571,12.1790861 44.4280571,12.4 C44.4280571,12.5067183 44.3854124,12.609012 44.309608,12.6841286 Z",id:"CheckOutline-路径",fill:"currentColor",fillRule:"nonzero"}))))}function be(e){return i.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e,{style:Object.assign({verticalAlign:"-0.125em"},e.style),className:["antd-mobile-icon",e.className].filter(Boolean).join(" ")}),i.createElement("g",{id:"DownlandOutline-DownlandOutline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},i.createElement("g",{id:"DownlandOutline-编组"},i.createElement("rect",{id:"DownlandOutline-矩形",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),i.createElement("path",{d:"M13.5,4.4 L13.5,6.6 C13.5,6.8209139 13.3209139,7 13.1,7 L10,7 L10,7 C8.40231912,7 7.09633912,8.24891996 7.00509269,9.82372721 L7,10 L7,38 C7,39.5976809 8.24891996,40.9036609 9.82372721,40.9949073 L10,41 L38,41 C39.5976809,41 40.9036609,39.75108 40.9949073,38.1762728 L41,38 L41,10 C41,8.40231912 39.75108,7.09633912 38.1762728,7.00509269 L38,7 L35.9,7 C35.6790861,7 35.5,6.8209139 35.5,6.6 L35.5,4.4 C35.5,4.1790861 35.6790861,4 35.9,4 L38,4 L38,4 C41.3137085,4 44,6.6862915 44,10 L44,38 C44,41.3137085 41.3137085,44 38,44 L10,44 C6.6862915,44 4,41.3137085 4,38 L4,10 C4,6.6862915 6.6862915,4 10,4 L13.1,4 C13.3209139,4 13.5,4.1790861 13.5,4.4 Z M25.9999942,4.4 L25.9996797,26.04 L25.9996797,26.04 L33.9551425,18.7714481 C33.9637608,18.763574 33.9770552,18.7638966 33.9852814,18.7721797 C33.994709,18.7816725 34,18.7945085 34,18.8078873 L34,22.6126929 C34,22.7250175 33.9527723,22.8321661 33.8698618,22.9079464 L25.5925692,30.4733951 L25.5925692,30.4733951 C25.2794059,30.7595769 24.8804299,30.8955827 24.4857797,30.8834403 C24.0908085,30.8958129 23.691422,30.7598192 23.3779936,30.4733951 L15.1301592,22.9359486 C15.047236,22.8601675 15,22.7530104 15,22.6406759 L15,19.6653642 C15,19.4444503 15.1790861,19.2653642 15.4,19.2653642 C15.4998604,19.2653642 15.5961093,19.3027166 15.6698274,19.3700793 L22.9996797,26.068 L22.9996797,26.068 L22.9999942,4.4 C23.0000032,4.17908837 23.1790884,4.00000581 23.4,4 L25.6,4 C25.8209139,3.99999419 26,4.17908029 26,4.39999419 C26,4.39999612 26,4.39999806 25.9999942,4.4 Z",id:"DownlandOutline-形状",fill:"currentColor",fillRule:"nonzero"}))))}function ke(e){return i.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e,{style:Object.assign({verticalAlign:"-0.125em"},e.style),className:["antd-mobile-icon",e.className].filter(Boolean).join(" ")}),i.createElement("g",{id:"UploadOutline-UploadOutline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},i.createElement("g",{id:"UploadOutline-编组"},i.createElement("rect",{id:"UploadOutline-矩形",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),i.createElement("path",{d:"M13.5,4.4 L13.5,6.6 C13.5,6.8209139 13.3209139,7 13.1,7 L10,7 L10,7 C8.40231912,7 7.09633912,8.24891996 7.00509269,9.82372721 L7,10 L7,38 C7,39.5976809 8.24891996,40.9036609 9.82372721,40.9949073 L10,41 L38,41 C39.5976809,41 40.9036609,39.75108 40.9949073,38.1762728 L41,38 L41,10 C41,8.40231912 39.75108,7.09633912 38.1762728,7.00509269 L38,7 L35.9,7 C35.6790861,7 35.5,6.8209139 35.5,6.6 L35.5,4.4 C35.5,4.1790861 35.6790861,4 35.9,4 L38,4 L38,4 C41.3137085,4 44,6.6862915 44,10 L44,38 C44,41.3137085 41.3137085,44 38,44 L10,44 C6.6862915,44 4,41.3137085 4,38 L4,10 C4,6.6862915 6.6862915,4 10,4 L13.1,4 C13.3209139,4 13.5,4.1790861 13.5,4.4 Z M24.4857797,4.00077369 C24.8310987,3.99014909 25.1797295,4.09295041 25.4712865,4.31053618 L25.5925692,4.41081881 L33.8698386,11.9750512 C33.9527631,12.0508323 34,12.1579904 34,12.2703259 L34,16.0746777 C34,16.0883641 33.994729,16.1015248 33.9852814,16.1114273 C33.9771016,16.1200009 33.9635695,16.1204652 33.9548213,16.1124724 L25.9996797,8.84421395 L25.9996797,8.84421395 L25.9999942,30.4842139 C26.0000032,30.7051278 25.8209197,30.8842166 25.6000058,30.8842198 C25.6000039,30.8842198 25.6000019,30.8842198 25.6,30.8842139 L23.4,30.8842139 C23.1790884,30.8842081 23.0000032,30.7051256 22.9999942,30.4842139 L22.9996797,8.81621395 L22.9996797,8.81621395 L15.669803,15.5130447 C15.5067093,15.6620527 15.2537008,15.6506341 15.1046928,15.4875404 C15.0373439,15.4138251 15,15.3175864 15,15.2177374 L15,12.242343 C15,12.1299975 15.0472452,12.0228309 15.1301825,11.947049 L23.3779936,4.41081881 L23.3779936,4.41081881 C23.691422,4.1243947 24.0908085,3.98840107 24.4857797,4.00077369 Z",id:"UploadOutline-形状",fill:"currentColor",fillRule:"nonzero"}))))}const w="adm-badge",ee=a.createElement(a.Fragment,null),ve=e=>{const{content:t,color:o,children:r}=e,c=t===ee,d=L(w,{[`${w}-fixed`]:!!r,[`${w}-dot`]:c,[`${w}-bordered`]:e.bordered}),p=t||t===0?I(e,a.createElement("div",{className:d,style:{"--color":o}},!c&&a.createElement("div",{className:`${w}-content`},t))):null;return r?a.createElement("div",{className:L(`${w}-wrapper`,e.wrapperClassName),style:e.wrapperStyle},r,p):p},W=X(ve,{dot:ee});var te={exports:{}},s={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _=Symbol.for("react.element"),V=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),$=Symbol.for("react.context"),je=Symbol.for("react.server_context"),O=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),Ee=Symbol.for("react.offscreen"),ne;ne=Symbol.for("react.module.reference");function f(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case _:switch(e=e.type,e){case v:case E:case j:case A:case F:return e;default:switch(e=e&&e.$$typeof,e){case je:case $:case O:case R:case N:case S:return e;default:return t}}case V:return t}}}s.ContextConsumer=$;s.ContextProvider=S;s.Element=_;s.ForwardRef=O;s.Fragment=v;s.Lazy=R;s.Memo=N;s.Portal=V;s.Profiler=E;s.StrictMode=j;s.Suspense=A;s.SuspenseList=F;s.isAsyncMode=function(){return!1};s.isConcurrentMode=function(){return!1};s.isContextConsumer=function(e){return f(e)===$};s.isContextProvider=function(e){return f(e)===S};s.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===_};s.isForwardRef=function(e){return f(e)===O};s.isFragment=function(e){return f(e)===v};s.isLazy=function(e){return f(e)===R};s.isMemo=function(e){return f(e)===N};s.isPortal=function(e){return f(e)===V};s.isProfiler=function(e){return f(e)===E};s.isStrictMode=function(e){return f(e)===j};s.isSuspense=function(e){return f(e)===A};s.isSuspenseList=function(e){return f(e)===F};s.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===v||e===E||e===j||e===A||e===F||e===Ee||typeof e=="object"&&e!==null&&(e.$$typeof===R||e.$$typeof===N||e.$$typeof===S||e.$$typeof===$||e.$$typeof===O||e.$$typeof===ne||e.getModuleId!==void 0)};s.typeOf=f;te.exports=s;var Se=te.exports;function $e(e,t){let o=0;function r(c){a.Children.forEach(c,d=>{Se.isFragment(d)?r(d.props.children):(t(d,o),o+=1)})}r(e)}const Oe=()=>null,g="adm-tab-bar",Ae={safeArea:!1},Fe=e=>{var t;const o=z(Ae,e);let r=null;const c=[];$e(o.children,(l,C)=>{if(!i.isValidElement(l))return;const x=l.key;typeof x=="string"&&(C===0&&(r=x),c.push(l))});const[d,p]=le({value:o.activeKey,defaultValue:(t=o.defaultActiveKey)!==null&&t!==void 0?t:r,onChange:l=>{var C;l!==null&&((C=o.onChange)===null||C===void 0||C.call(o,l))}});return I(o,a.createElement("div",{className:g},a.createElement("div",{className:`${g}-wrap`},c.map(l=>{const C=l.key===d;function x(){const u=l.props.icon&&a.createElement("div",{className:`${g}-item-icon`},typeof l.props.icon=="function"?l.props.icon(C):l.props.icon),m=l.props.title&&a.createElement("div",{className:L(`${g}-item-title`,!!u&&`${g}-item-title-with-icon`)},typeof l.props.title=="function"?l.props.title(C):l.props.title);return u?a.createElement(a.Fragment,null,a.createElement(W,{content:l.props.badge,className:`${g}-icon-badge`},u),m):m?a.createElement(W,{content:l.props.badge,className:`${g}-title-badge`},m):null}return I(l.props,a.createElement("div",{key:l.key,onClick:()=>{const{key:u}=l;u!=null&&p(u.toString())},className:L(`${g}-item`,{[`${g}-item-active`]:C})},x()))})),o.safeArea&&a.createElement(ae,{position:"bottom"})))},U=X(Fe,{Item:Oe}),y="adm-toast",Ne={maskClickable:!0,stopPropagation:["click"]},Re=e=>{const t=z(Ne,e),{maskClickable:o,content:r,icon:c,position:d}=t,p=i.useMemo(()=>{if(c==null)return null;switch(c){case"success":return a.createElement(we,{className:`${y}-icon-success`});case"fail":return a.createElement(de,{className:`${y}-icon-fail`});case"loading":return a.createElement(ce,{color:"white",className:`${y}-loading`});default:return c}},[c]),l=i.useMemo(()=>{switch(d){case"top":return"20%";case"bottom":return"80%";default:return"50%"}},[d]);return a.createElement(ue,{visible:t.visible,destroyOnClose:!0,opacity:0,disableBodyScroll:!o,getContainer:t.getContainer,afterClose:t.afterClose,style:Object.assign({pointerEvents:o?"none":"auto"},t.maskStyle),className:L(`${y}-mask`,t.maskClassName),stopPropagation:t.stopPropagation},a.createElement("div",{className:L(`${y}-wrap`)},a.createElement("div",{style:{top:l},className:L(`${y}-main`,c?`${y}-main-icon`:`${y}-main-text`)},p&&a.createElement("div",{className:`${y}-icon`},p),a.createElement(me,null,r))))};let h=null,B=null;const k={duration:2e3,position:"center",maskClickable:!0},Pe=e=>a.createElement(Re,Object.assign({},e));function Be(e){const t=z(k,typeof e=="string"?{content:e}:e),o=a.createElement(Pe,Object.assign({},t,{onClose:()=>{h=null}}));return h?h.replace(o):h=fe(o),B&&window.clearTimeout(B),t.duration!==0&&(B=window.setTimeout(()=>{oe()},t.duration)),h}function oe(){h==null||h.close(),h=null}function Ie(e){e.duration!==void 0&&(k.duration=e.duration),e.position!==void 0&&(k.position=e.position),e.maskClickable!==void 0&&(k.maskClickable=e.maskClickable)}const Me={show:Be,clear:oe,config:Ie},Te=()=>{const[e,t]=i.useState(""),o=i.useRef("");o.current=e;const r=J(),c=i.useCallback(()=>{r(d=>d?[...d,{name:o.current,aKey:new Date().getTime()}]:[])},[r]);return n.jsx(Z,{color:"var(--adm-color-primary)",fontSize:36,onClick:d=>{d.stopPropagation(),M.show({content:n.jsxs("div",{children:[n.jsx(T,{placeholder:"请输入内容",defaultValue:e,onChange:t}),n.jsx(K,{style:{margin:0}})]}),closeOnAction:!0,closeOnMaskClick:!0,actions:[{key:"confirm-add-action",text:"添加",primary:!0,onClick:c}]})}})},Ke=({aKey:e,name:t})=>{const o=q(),r=J(),[c,d]=i.useState(t),p=i.useRef("");p.current=c;const[l,C]=i.useState(""),x=i.useRef("");return x.current=l,n.jsx("div",{style:{backgroundColor:"#f2f2f7",padding:"16px"},children:n.jsx(H,{style:{padding:0},bodyStyle:{padding:0},onClick:()=>{M.show({content:n.jsxs("div",{children:[n.jsx(T,{placeholder:"请输入内容",defaultValue:l,onChange:u=>{C(u)}}),n.jsx(K,{style:{margin:0}})]}),closeOnAction:!0,closeOnMaskClick:!0,actions:[{key:"confirm-record",text:"保存",primary:!0,onClick:()=>{o({aKey:e,name:t},x.current)}}]})},children:n.jsx(pe,{style:{borderRadius:8},rightActions:[{key:"rename",text:n.jsx(Ce,{fontSize:36}),color:"warning",onClick:u=>{u.stopPropagation(),M.show({content:n.jsxs("div",{children:[n.jsx(T,{placeholder:"请输入内容",defaultValue:c,onChange:m=>{d(m)}}),n.jsx(K,{style:{margin:0}})]}),closeOnAction:!0,closeOnMaskClick:!0,actions:[{key:"confirm-rename",text:"重命名",primary:!0,onClick:()=>{r(m=>{if(!m)return[];const b=ge.cloneDeep(m),P=b.find(re=>re.aKey===e);return P&&p.current!==P.name&&(P.name=p.current),b})}}]})}},{key:"delete",text:n.jsx(ye,{fontSize:36}),color:"danger",onClick:u=>{u.stopPropagation(),r(m=>(m==null?void 0:m.filter(b=>b.aKey!==e))||[])}}],children:n.jsxs(D,{justify:"between",align:"center",style:{padding:8,width:"100%"},children:[n.jsx(G,{round:!0,color:"primary",style:{fontSize:20,minWidth:80,paddingTop:8,paddingBottom:8},children:t}),n.jsx(Q,{fill:"none",style:{marginRight:16},onClick:u=>{u.stopPropagation(),o({aKey:e,name:t})},children:n.jsx(Z,{color:"var(--adm-color-primary)",fontSize:36})})]})})})})},ze=()=>{const e=he();return n.jsxs(n.Fragment,{children:[n.jsx(Y,{style:{backgroundColor:"#f2f2f7"},back:null,right:n.jsx("div",{style:{paddingTop:8},children:n.jsx(Te,{})})}),n.jsx("div",{className:"action-list",children:e==null?void 0:e.map(t=>n.jsx("div",{children:n.jsx(Ke,{...t})},t.aKey))})]})},De=({recordKey:e,rKey:t,actionItem:o,record:r})=>{const c=q(),d=ie();return n.jsxs(D,{align:"center",style:{"--gap":"0"},children:[n.jsx(G,{round:!0,color:"primary",style:{fontSize:18,fontWeight:"bold",minWidth:60,paddingTop:4,paddingBottom:4,textAlign:"center"},onClick:()=>{d({pathname:"/record-tag-detail",search:`recordKey=${e}&clickItemKey=${t}`})},children:`${o.name}: ${r.length}`}),n.jsx(Q,{fill:"none",onClick:()=>c(o),children:n.jsx(Z,{color:"var(--adm-color-primary)",fontSize:30})})]})},Ze=({rKey:e,items:t})=>n.jsx("div",{style:{backgroundColor:"#f2f2f7",padding:"16px"},children:n.jsx(H,{title:e,bodyStyle:{textAlign:"left"},children:t.map(o=>n.jsx(De,{...o,recordKey:e},o.rKey))})}),_e=()=>{const e=xe();return console.log("@@@ recordList",e),n.jsxs(n.Fragment,{children:[n.jsx(Y,{style:{backgroundColor:"#f2f2f7"},back:null,right:n.jsxs(D,{style:{paddingTop:8},children:[n.jsx(be,{color:"var(--adm-color-primary)",fontSize:36,onClick:()=>{const t=localStorage.getItem("recordList"),o=localStorage.getItem("actionList"),r=JSON.stringify({recordList:t,actionList:o});navigator.clipboard.writeText(r).then(()=>{Me.show({content:"复制成功"})})}}),n.jsx(ke,{color:"var(--adm-color-primary)",fontSize:36,onClick:()=>{navigator.clipboard.readText().then(t=>{if(t)try{const{recordList:o,actionList:r}=JSON.parse(t);o&&localStorage.setItem("recordList",o),r&&localStorage.setItem("actionList",r),window.location.reload()}catch(o){console.log(o)}})}})]})}),n.jsx("div",{className:"analyse",children:e==null?void 0:e.map(t=>n.jsx("div",{children:n.jsx(Ze,{...t},t.rKey)},t.rKey))})]})},Ve=({activeKey:e,setActiveKey:t})=>{const o=[{key:"action",title:"行为"},{key:"analyse",title:"分析"}];return n.jsx(U,{activeKey:e,onChange:r=>t(r),children:o.map(r=>n.jsx(U.Item,{title:r.title},r.key))})},We=({activeKey:e,setActiveKey:t})=>n.jsx("div",{className:"tab-bar",style:{position:"fixed",bottom:0,width:"100%",borderTop:"solid 1px var(--adm-color-border)"},children:n.jsx(Ve,{activeKey:e,setActiveKey:t})}),Ue=()=>{const[e,t]=se(),[o]=i.useState(e.get("tab")||""),[r,c]=i.useState(o||"action");return n.jsx(n.Fragment,{children:n.jsxs(Le,{children:[r==="action"&&n.jsx(ze,{}),r==="analyse"&&n.jsx(_e,{}),n.jsx(We,{activeKey:r,setActiveKey:d=>{c(d),t({tab:""})}})]})})},qe=()=>n.jsx(Ue,{});export{qe as Playground};
